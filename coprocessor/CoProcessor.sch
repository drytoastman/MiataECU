EESchema Schematic File Version 2  date 10/20/2011 1:38:19 PM
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:PNP
EELAYER 25  0
EELAYER END
$Descr User 17000 11000
encoding utf-8
Sheet 1 1
Title ""
Date "20 oct 2011"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text Label 4300 1800 2    60   ~ 0
KnockReport
Text Label 5100 1800 0    60   ~ 0
Purge
Text Label 5100 1700 0    60   ~ 0
IAC
Text Label 5100 1600 0    60   ~ 0
Ignition2
Text Label 5100 1500 0    60   ~ 0
Ignition1
Text Label 5100 1400 0    60   ~ 0
VSSSignal
Text Label 5100 1300 0    60   ~ 0
Idle
Text Label 5100 1200 0    60   ~ 0
CANL
Text Label 5100 1100 0    60   ~ 0
CANH
Text Label 4300 1700 2    60   ~ 0
ExtraAD4
Text Label 4300 1600 2    60   ~ 0
ExtraAD3
Text Label 4300 1500 2    60   ~ 0
ExtraAD2
Text Label 4300 1400 2    60   ~ 0
FuelPressure
Text Label 4300 1300 2    60   ~ 0
KnockSensor
Text Label 4300 1200 2    60   ~ 0
GND
Text Label 4300 1100 2    60   ~ 0
5V
Wire Wire Line
	5050 1800 5300 1800
Wire Wire Line
	5050 1600 5300 1600
Wire Wire Line
	5050 1400 5300 1400
Wire Wire Line
	5050 1200 5300 1200
Wire Wire Line
	4350 1800 4050 1800
Wire Wire Line
	4350 1600 4050 1600
Wire Wire Line
	4350 1400 4050 1400
Wire Wire Line
	4350 1200 4050 1200
Wire Wire Line
	9350 5550 9750 5550
Wire Wire Line
	9350 5350 9750 5350
Wire Wire Line
	8650 5450 8200 5450
Wire Wire Line
	5800 4600 6100 4600
Wire Wire Line
	6800 3350 6450 3350
Wire Wire Line
	4150 2700 4650 2700
Wire Wire Line
	4150 4400 4650 4400
Wire Wire Line
	4650 4800 5150 4800
Wire Wire Line
	4150 3300 4650 3300
Wire Wire Line
	4150 4500 4650 4500
Wire Wire Line
	7150 5450 7350 5450
Wire Wire Line
	6450 5550 6100 5550
Wire Wire Line
	6450 5350 6100 5350
Wire Wire Line
	8750 2000 8900 2000
Wire Wire Line
	8900 2000 8900 1850
Wire Wire Line
	8900 1550 8900 1700
Wire Wire Line
	8900 1700 8750 1700
Wire Wire Line
	7350 1250 7350 1850
Wire Wire Line
	7350 1850 7550 1850
Connection ~ 1650 2700
Connection ~ 1650 3750
Wire Wire Line
	1650 3750 1950 3750
Wire Wire Line
	1950 3750 1950 3500
Wire Wire Line
	2350 1950 2850 1950
Wire Wire Line
	8250 4200 7200 4200
Wire Wire Line
	7200 4200 7200 3000
Wire Wire Line
	7200 3000 4150 3000
Wire Wire Line
	6450 3350 6450 3500
Wire Wire Line
	6450 3500 6250 3500
Wire Wire Line
	4800 3600 4800 3700
Wire Wire Line
	4800 3600 4150 3600
Wire Wire Line
	4800 3700 5100 3700
Wire Wire Line
	4150 4800 4150 4800
Wire Wire Line
	4150 3800 4650 3800
Wire Wire Line
	4150 4200 4650 4200
Wire Wire Line
	4650 4700 5150 4700
Wire Wire Line
	6250 3400 6350 3400
Wire Wire Line
	6350 3400 6350 3900
Wire Wire Line
	6350 3900 5050 3900
Wire Wire Line
	5050 3900 5050 3500
Wire Wire Line
	5050 3500 5100 3500
Wire Wire Line
	1950 2700 1650 2700
Wire Wire Line
	5350 5100 5600 5100
Wire Wire Line
	4150 4300 6750 4300
Wire Wire Line
	4150 2500 4650 2500
Connection ~ 4900 5300
Wire Wire Line
	4150 5300 4900 5300
Connection ~ 4250 5200
Wire Wire Line
	4250 5400 4250 5200
Wire Wire Line
	4300 5200 4150 5200
Wire Wire Line
	4150 3100 4450 3100
Wire Wire Line
	10100 3700 10100 3600
Wire Wire Line
	10100 3600 9600 3600
Connection ~ 7750 4300
Wire Wire Line
	7750 4400 7750 4300
Wire Wire Line
	11000 3600 11400 3600
Wire Wire Line
	7900 3300 7900 3500
Wire Wire Line
	7900 3300 7550 3300
Wire Wire Line
	10100 4300 10400 4300
Wire Wire Line
	10700 3200 11050 3200
Connection ~ 9700 3200
Wire Wire Line
	10300 3200 8100 3200
Wire Wire Line
	7900 3500 8250 3500
Wire Wire Line
	8250 3600 7900 3600
Wire Wire Line
	8250 3700 8100 3700
Wire Wire Line
	8100 3700 8100 3200
Wire Wire Line
	9700 3200 9700 3500
Wire Wire Line
	9700 3500 9600 3500
Wire Wire Line
	7550 3300 7550 3000
Wire Wire Line
	10100 4200 10400 4200
Wire Wire Line
	10100 4400 10400 4400
Wire Wire Line
	7550 3700 7900 3700
Wire Wire Line
	7900 3700 7900 3600
Connection ~ 10100 3600
Wire Wire Line
	7650 4300 8250 4300
Wire Wire Line
	4900 5200 4900 5400
Wire Wire Line
	4250 5800 4900 5800
Wire Wire Line
	4150 2400 4650 2400
Wire Wire Line
	4150 5100 4850 5100
Wire Wire Line
	1650 1550 1650 2100
Wire Wire Line
	4900 3600 5100 3600
Wire Wire Line
	4150 3700 4650 3700
Wire Wire Line
	4150 3900 4650 3900
Wire Wire Line
	4150 3400 4650 3400
Wire Wire Line
	4150 4900 4150 4900
Wire Wire Line
	5100 3400 4800 3400
Wire Wire Line
	4150 3500 4800 3500
Wire Wire Line
	4800 3500 4800 3400
Wire Wire Line
	4150 2900 7300 2900
Wire Wire Line
	7300 2900 7300 4100
Wire Wire Line
	7300 4100 8250 4100
Wire Wire Line
	6250 3600 6450 3600
Wire Wire Line
	6450 3600 6450 3850
Wire Wire Line
	1650 1950 1950 1950
Wire Wire Line
	1950 1950 1950 2400
Connection ~ 1650 1950
Wire Wire Line
	1650 4900 1950 4900
Wire Wire Line
	1650 3100 1650 5300
Wire Wire Line
	1650 5300 1950 5300
Connection ~ 1650 4900
Wire Wire Line
	4650 2600 4150 2600
Wire Wire Line
	7550 1700 6700 1700
Wire Wire Line
	7550 1550 7350 1550
Connection ~ 7350 1550
Wire Wire Line
	8750 1550 9200 1550
Connection ~ 8900 1550
Wire Wire Line
	8750 1850 9200 1850
Connection ~ 8900 1850
Wire Wire Line
	6450 5450 6100 5450
Wire Wire Line
	7150 5350 7350 5350
Wire Wire Line
	7150 5550 7350 5550
Wire Wire Line
	7550 2000 6700 2000
Wire Wire Line
	4650 4900 5150 4900
Wire Wire Line
	4150 4000 4650 4000
Wire Wire Line
	4150 2800 4650 2800
Wire Wire Line
	6450 3850 6800 3850
Wire Wire Line
	5300 4600 4150 4600
Wire Wire Line
	8650 5350 8200 5350
Wire Wire Line
	8600 5550 8200 5550
Wire Wire Line
	9350 5450 9750 5450
Wire Wire Line
	4350 1100 4050 1100
Wire Wire Line
	4350 1300 4050 1300
Wire Wire Line
	4350 1500 4050 1500
Wire Wire Line
	4350 1700 4050 1700
Wire Wire Line
	5050 1100 5300 1100
Wire Wire Line
	5050 1300 5300 1300
Wire Wire Line
	5050 1500 5300 1500
Wire Wire Line
	5050 1700 5300 1700
$Comp
L DIL16 P?
U 1 1 4EA08187
P 4700 1450
F 0 "P?" H 4700 1900 60  0000 C CNN
F 1 "DIL16" V 4700 1450 50  0000 C CNN
F 2 "PIN_ARRAY_8x2" H 4700 1450 60  0001 C CNN
	1    4700 1450
	1    0    0    -1  
$EndComp
Text Label 9400 5350 0    60   ~ 0
GND
Text Label 9400 5450 0    60   ~ 0
A_PD2
Text Label 9400 5550 0    60   ~ 0
A_PC7
Text Label 8250 5550 0    60   ~ 0
A_PC1
Text Label 8250 5450 0    60   ~ 0
A_PB4
Text Label 8250 5350 0    60   ~ 0
A_PB3
$Comp
L DIL6 P2
U 1 1 4EA0808E
P 9000 5450
F 0 "P2" H 9000 5650 60  0000 C CNN
F 1 "DIL6" V 9000 5450 50  0000 C CNN
F 2 "PIN_ARRAY_3x2" H 9000 5450 60  0001 C CNN
	1    9000 5450
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 4E9FE3CD
P 4400 4700
F 0 "R1" V 4480 4700 50  0000 C CNN
F 1 "1K" V 4400 4700 50  0000 C CNN
F 2 "SM1206" H 4400 4700 60  0001 C CNN
	1    4400 4700
	0    1    1    0   
$EndComp
Text Label 5900 4600 0    60   ~ 0
5V
$Comp
L R R5
U 1 1 4E9FE252
P 5550 4600
F 0 "R5" V 5630 4600 50  0000 C CNN
F 1 "10K" V 5550 4600 50  0000 C CNN
F 2 "SM1206" H 5550 4600 60  0001 C CNN
	1    5550 4600
	0    1    1    0   
$EndComp
$Comp
L R R12
U 1 1 4E9FE07E
P 9850 4400
F 0 "R12" V 9930 4400 50  0000 C CNN
F 1 "0" V 9850 4400 50  0000 C CNN
F 2 "SIL-2" H 9850 4400 60  0001 C CNN
	1    9850 4400
	0    1    1    0   
$EndComp
$Comp
L R R11
U 1 1 4E9FE079
P 9850 4300
F 0 "R11" V 9930 4300 50  0000 C CNN
F 1 "0" V 9850 4300 50  0000 C CNN
F 2 "SIL-2" H 9850 4300 60  0001 C CNN
	1    9850 4300
	0    1    1    0   
$EndComp
$Comp
L R R10
U 1 1 4E9FE074
P 9850 4200
F 0 "R10" V 9930 4200 50  0000 C CNN
F 1 "0" V 9850 4200 50  0000 C CNN
F 2 "SIL-2" H 9850 4200 60  0001 C CNN
	1    9850 4200
	0    1    1    0   
$EndComp
Text Notes 5250 4850 0    60   ~ 0
PD4-7, input square waves
Text Label 6500 3350 0    60   ~ 0
CANH
Text Label 4200 2700 0    60   ~ 0
A_PB3
Text Label 4200 2800 0    60   ~ 0
A_PB4
Text Label 4200 4000 0    60   ~ 0
A_PC7
Text Label 4200 4400 0    60   ~ 0
A_PD2
Text Label 4700 4900 0    60   ~ 0
Ignition1
Text Label 4700 4800 0    60   ~ 0
Ignition1
$Comp
L R R3
U 1 1 4E9FDB66
P 4400 4900
F 0 "R3" V 4480 4900 50  0000 C CNN
F 1 "1K" V 4400 4900 50  0000 C CNN
F 2 "SM1206" H 4400 4900 60  0001 C CNN
	1    4400 4900
	0    1    1    0   
$EndComp
$Comp
L R R2
U 1 1 4E9FDB60
P 4400 4800
F 0 "R2" V 4480 4800 50  0000 C CNN
F 1 "1K" V 4400 4800 50  0000 C CNN
F 2 "SM1206" H 4400 4800 60  0001 C CNN
	1    4400 4800
	0    1    1    0   
$EndComp
Text Label 4200 3300 0    60   ~ 0
PurgeControl
Text Label 4200 4500 0    60   ~ 0
Idle+
Text Label 7700 4300 0    60   ~ 0
KnockXin
Text Label 4200 5100 0    60   ~ 0
RESET
Text Label 7200 5550 0    60   ~ 0
GND
Text Label 7200 5450 0    60   ~ 0
MOSI
Text Label 7200 5350 0    60   ~ 0
5V
Text Label 6150 5550 0    60   ~ 0
RESET
Text Label 6150 5450 0    60   ~ 0
SCLK
Text Label 6150 5350 0    60   ~ 0
MISO
Text Notes 6750 5800 0    60   ~ 0
ISP
$Comp
L DIL6 P1
U 1 1 4E9E8ACA
P 6800 5450
F 0 "P1" H 6800 5650 60  0000 C CNN
F 1 "DIL6" V 6800 5450 50  0000 C CNN
F 2 "PIN_ARRAY_3x2" H 6800 5450 60  0001 C CNN
	1    6800 5450
	1    0    0    -1  
$EndComp
Text Label 8950 1850 0    60   ~ 0
IAC
Text Label 8950 1550 0    60   ~ 0
Purge
Text Label 7350 1450 1    60   ~ 0
GND
Text Label 6750 1700 0    60   ~ 0
PurgeControl
$Comp
L VNS3NV04D U2
U 1 1 4E9E8628
P 8150 1850
F 0 "U2" H 7950 2250 60  0000 C CNN
F 1 "VNS3NV04D" H 8100 1550 60  0000 C CNN
F 2 "SO8N" H 7850 2150 60  0001 C CNN
	1    8150 1850
	1    0    0    -1  
$EndComp
Text Label 5900 4300 0    60   ~ 0
SharedClock
Text Label 5600 3000 0    60   ~ 0
ChipSelect
Text Label 5600 2900 0    60   ~ 0
Window
Text Label 6750 2000 0    60   ~ 0
Idle+
Text Label 1650 4250 1    60   ~ 0
GND
Text Label 2550 1950 0    60   ~ 0
GND
$Comp
L BYPASS C2
U 1 1 4E9BCD59
P 1950 3300
F 0 "C2" H 1960 3380 50  0000 L CNN
F 1 "BYPASS" V 1900 3170 50  0000 L CNN
F 2 "SM1206" H 1800 3600 60  0001 C CNN
F 4 "399-4329-ND" H 2100 3500 60  0001 C CNN "Digikey"
	1    1950 3300
	1    0    0    -1  
$EndComp
$Comp
L BYPASS C1
U 1 1 4E9BCD4C
P 1650 2900
F 0 "C1" H 1660 2980 50  0000 L CNN
F 1 "BYPASS" V 1600 2770 50  0000 L CNN
F 2 "SM1206" H 1500 3200 60  0001 C CNN
F 4 "399-4329-ND" H 1800 3100 60  0001 C CNN "Digikey"
	1    1650 2900
	1    0    0    -1  
$EndComp
$Comp
L BYPASS C3
U 1 1 4E9BCD45
P 2150 1950
F 0 "C3" H 2160 2030 50  0000 L CNN
F 1 "BYPASS" V 2100 1820 50  0000 L CNN
F 2 "SM1206" H 2000 2250 60  0001 C CNN
F 4 "399-4329-ND" H 2300 2150 60  0001 C CNN "Digikey"
	1    2150 1950
	0    1    1    0   
$EndComp
$Comp
L C C7
U 1 1 4E9BCA8B
P 7550 3500
F 0 "C7" H 7600 3600 50  0000 L CNN
F 1 "4.7uF" H 7600 3400 50  0000 L CNN
F 2 "SM1206" H 7550 3500 60  0001 C CNN
F 4 "V3" H 7550 3500 60  0001 C CNN "Digikey"
	1    7550 3500
	1    0    0    -1  
$EndComp
$Comp
L BYPASS C8
U 1 1 4E9BCA7C
P 10500 3200
F 0 "C8" H 10510 3280 50  0000 L CNN
F 1 "BYPASS" V 10450 3070 50  0000 L CNN
F 2 "SM1206" H 10350 3500 60  0001 C CNN
F 4 "399-4329-ND" H 10650 3400 60  0001 C CNN "Digikey"
	1    10500 3200
	0    1    1    0   
$EndComp
Text Label 6500 3850 0    60   ~ 0
CANL
Text Label 4200 3400 0    60   ~ 0
A_PC1
Text Label 4200 3900 0    60   ~ 0
ExtraAD4
Text Label 4200 3800 0    60   ~ 0
ExtraAD3
Text Label 4200 3700 0    60   ~ 0
ExtraAD2
Text Label 7550 3150 1    60   ~ 0
5V
Text Label 4200 4200 0    60   ~ 0
KnockReport
Text Label 4200 2600 0    60   ~ 0
FuelPressure
Text Label 4700 4600 0    60   ~ 0
Idle
Text Label 4700 4700 0    60   ~ 0
VSSSignal
$Comp
L R R6
U 1 1 4E994CAF
P 6800 3600
F 0 "R6" V 6880 3600 50  0000 C CNN
F 1 "120" V 6800 3600 50  0000 C CNN
F 2 "R4" H 6800 3600 60  0001 C CNN
	1    6800 3600
	-1   0    0    1   
$EndComp
Text Label 4900 3600 0    60   ~ 0
5V
Text Label 6100 3900 0    60   ~ 0
GND
$Comp
L MCP2551 U1
U 1 1 4E994AB0
P 5550 3700
F 0 "U1" H 5450 4150 60  0000 C CNN
F 1 "MCP2551" H 5600 3550 60  0000 C CNN
F 2 "SO8E" H 5550 3700 60  0001 C CNN
F 4 "MCP2551-I/SN" H 5550 3700 60  0001 C CNN "Digikey"
	1    5550 3700
	1    0    0    -1  
$EndComp
Text Label 1650 1550 0    60   ~ 0
5V
$Comp
L INDUCTOR L1
U 1 1 4E9947FE
P 1650 2400
F 0 "L1" V 1600 2400 40  0000 C CNN
F 1 "1uH" V 1750 2400 40  0000 C CNN
F 2 "R4" H 1650 2400 60  0001 C CNN
F 4 "V3" V 1650 2400 60  0001 C CNN "Digikey"
	1    1650 2400
	1    0    0    -1  
$EndComp
Text Label 5450 5100 0    60   ~ 0
5V
$Comp
L R R4
U 1 1 4E993F05
P 5100 5100
F 0 "R4" V 5180 5100 50  0000 C CNN
F 1 "10K" V 5100 5100 50  0000 C CNN
F 2 "SM1206" H 5100 5100 60  0001 C CNN
	1    5100 5100
	0    1    1    0   
$EndComp
Text Notes 8600 4750 0    60   ~ 0
Knock Processing
Text Label 4200 2500 0    60   ~ 0
MOSI
Text Label 4200 2400 0    60   ~ 0
MISO
Text Label 4500 5800 0    60   ~ 0
GND
$Comp
L CRYSTAL X1
U 1 1 4E97F0C2
P 4600 5200
F 0 "X1" H 4600 5350 60  0000 C CNN
F 1 "16MHz" H 4600 5050 60  0000 C CNN
F 2 "HC-46X" H 4600 5200 60  0001 C CNN
F 4 "XC1759-ND" H 4600 5200 60  0001 C CNN "Digikey"
	1    4600 5200
	1    0    0    -1  
$EndComp
$Comp
L C C5
U 1 1 4E97F046
P 4900 5600
F 0 "C5" H 4950 5700 50  0000 L CNN
F 1 "22pF" H 4950 5500 50  0000 L CNN
F 2 "SM1206" H 4900 5600 60  0001 C CNN
	1    4900 5600
	-1   0    0    1   
$EndComp
$Comp
L C C4
U 1 1 4E97F033
P 4250 5600
F 0 "C4" H 4300 5700 50  0000 L CNN
F 1 "22pF" H 4300 5500 50  0000 L CNN
F 2 "SM1206" H 4250 5600 60  0001 C CNN
	1    4250 5600
	-1   0    0    1   
$EndComp
Text Label 4200 3100 0    60   ~ 0
SCLK
Text Label 4200 3600 0    60   ~ 0
CanRx
Text Label 4200 3500 0    60   ~ 0
CanTx
$Comp
L R R7
U 1 1 4E97E835
P 7000 4300
F 0 "R7" V 7080 4300 50  0000 C CNN
F 1 "1k" V 7000 4300 50  0000 C CNN
F 2 "SM1206" H 7000 4300 60  0001 C CNN
	1    7000 4300
	0    1    1    0   
$EndComp
$Comp
L C C6
U 1 1 4E97E82D
P 7450 4300
F 0 "C6" H 7500 4400 50  0000 L CNN
F 1 "470pF" H 7500 4200 50  0000 L CNN
F 2 "SM1206" H 7450 4300 60  0001 C CNN
	1    7450 4300
	0    1    1    0   
$EndComp
$Comp
L R R8
U 1 1 4E97E81D
P 8000 4400
F 0 "R8" V 8080 4400 50  0000 C CNN
F 1 "1M" V 8000 4400 50  0000 C CNN
F 2 "R4" H 8000 4400 60  0001 C CNN
	1    8000 4400
	0    1    1    0   
$EndComp
Text Label 11050 3600 0    60   ~ 0
KnockSensor
$Comp
L C C9
U 1 1 4E97E79E
P 10800 3600
F 0 "C9" H 10850 3700 50  0000 L CNN
F 1 "3.3nF" H 10850 3500 50  0000 L CNN
F 2 "C2" H 10800 3600 60  0001 C CNN
	1    10800 3600
	0    1    1    0   
$EndComp
$Comp
L R R13
U 1 1 4E97E765
P 10350 3600
F 0 "R13" V 10430 3600 50  0000 C CNN
F 1 "TBD" V 10350 3600 50  0000 C CNN
F 2 "R4" H 10350 3600 60  0001 C CNN
	1    10350 3600
	0    1    1    0   
$EndComp
$Comp
L R R9
U 1 1 4E97E744
P 9850 3700
F 0 "R9" V 9930 3700 50  0000 C CNN
F 1 "TBD" V 9850 3700 50  0000 C CNN
F 2 "R4" H 9850 3700 60  0001 C CNN
	1    9850 3700
	0    1    1    0   
$EndComp
Text Label 10150 4400 0    60   ~ 0
MISO
Text Label 10150 4300 0    60   ~ 0
MOSI
Text Label 10150 4200 0    60   ~ 0
SCLK
Text Label 7900 3600 0    60   ~ 0
GND
Text Label 10850 3200 0    60   ~ 0
GND
$Comp
L TPIC8101 U3
U 1 1 4E97A1D4
P 8950 4050
F 0 "U3" H 8600 4750 60  0000 C CNN
F 1 "TPIC8101" H 8750 3550 60  0000 C CNN
F 2 "SO20L" H 8950 4050 60  0001 C CNN
F 4 "296-24864-1-ND" H 8950 4050 60  0001 C CNN "Digikey"
	1    8950 4050
	1    0    0    -1  
$EndComp
$Comp
L ATMEGA16M1-A IC1
U 1 1 4E965278
P 3050 4100
F 0 "IC1" H 2150 5930 50  0000 L BNN
F 1 "ATMEGA16M1-A" H 3350 2700 50  0000 L BNN
F 2 "TQFP32" H 2300 2750 50  0001 C CNN
	1    3050 4100
	1    0    0    -1  
$EndComp
$EndSCHEMATC
