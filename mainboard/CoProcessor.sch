EESchema Schematic File Version 2  date 10/29/2011 5:48:19 AM
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:PNPComponents
LIBS:MiataPNP-cache
EELAYER 25  0
EELAYER END
$Descr A4 11700 8267
encoding utf-8
Sheet 8 10
Title "CoProcessor"
Date "29 oct 2011"
Rev "1"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text Label 8200 6150 2    60   ~ 0
GND
Wire Wire Line
	8300 6150 7850 6150
Wire Wire Line
	3400 2850 3950 2850
Wire Wire Line
	6800 5650 6300 5650
Wire Wire Line
	6800 5300 6300 5300
Wire Wire Line
	6800 5000 6300 5000
Wire Wire Line
	3400 3750 3900 3750
Connection ~ 1200 1850
Connection ~ 1200 2250
Wire Wire Line
	1200 2350 1200 1850
Wire Wire Line
	9050 5850 8600 5850
Wire Wire Line
	9050 5550 8600 5550
Wire Wire Line
	9050 5250 8600 5250
Connection ~ 900  2750
Wire Wire Line
	900  2750 1200 2750
Wire Wire Line
	1200 1850 900  1850
Connection ~ 1200 1250
Wire Wire Line
	1450 1250 900  1250
Wire Wire Line
	5800 3000 5700 3000
Wire Wire Line
	3900 4050 4400 4050
Wire Wire Line
	3400 6500 2800 6500
Wire Wire Line
	2750 5500 2950 5500
Wire Wire Line
	2750 5300 2950 5300
Wire Wire Line
	1950 5400 1600 5400
Connection ~ 4750 6350
Wire Wire Line
	3400 6050 2800 6050
Connection ~ 900  4050
Wire Wire Line
	1200 4450 900  4450
Wire Wire Line
	900  4450 900  2250
Wire Wire Line
	900  4050 1200 4050
Wire Wire Line
	5700 3000 5700 2750
Wire Wire Line
	5700 2750 5500 2750
Wire Wire Line
	7500 3250 6550 3250
Wire Wire Line
	6550 3250 6550 2050
Wire Wire Line
	6550 2050 3400 2050
Wire Wire Line
	4050 2650 4050 2550
Wire Wire Line
	4050 2650 3400 2650
Wire Wire Line
	4050 2550 4350 2550
Wire Wire Line
	3400 4050 3400 4050
Wire Wire Line
	4150 2750 4350 2750
Wire Wire Line
	900  1250 900  1100
Wire Wire Line
	3400 4250 4100 4250
Wire Wire Line
	3400 1550 3900 1550
Wire Wire Line
	3500 4950 4150 4950
Wire Wire Line
	4150 4350 4150 4550
Wire Wire Line
	6900 3450 7500 3450
Connection ~ 9350 2750
Wire Wire Line
	7150 2850 7150 2750
Wire Wire Line
	7150 2850 6800 2850
Wire Wire Line
	8850 3550 9150 3550
Wire Wire Line
	8850 3350 9150 3350
Wire Wire Line
	6800 2150 6800 2450
Wire Wire Line
	8850 2650 8950 2650
Wire Wire Line
	8950 2650 8950 2350
Wire Wire Line
	7350 2850 7350 2350
Wire Wire Line
	7350 2850 7500 2850
Wire Wire Line
	7150 2750 7500 2750
Wire Wire Line
	7500 2650 7150 2650
Wire Wire Line
	7350 2350 9550 2350
Connection ~ 8950 2350
Wire Wire Line
	9950 2350 10300 2350
Wire Wire Line
	8850 3450 9150 3450
Wire Wire Line
	6800 2450 7150 2450
Wire Wire Line
	7150 2450 7150 2650
Wire Wire Line
	10250 2750 10400 2750
Wire Wire Line
	7000 3550 7000 3450
Connection ~ 7000 3450
Wire Wire Line
	8850 2750 9350 2750
Wire Wire Line
	9350 2750 9350 2850
Wire Wire Line
	3400 2250 3900 2250
Wire Wire Line
	3550 4350 3400 4350
Wire Wire Line
	3500 4550 3500 4350
Connection ~ 3500 4350
Wire Wire Line
	3400 4450 4150 4450
Connection ~ 4150 4450
Wire Wire Line
	3400 1650 3900 1650
Wire Wire Line
	3400 3450 6000 3450
Wire Wire Line
	4600 4250 4850 4250
Wire Wire Line
	4350 2650 4300 2650
Wire Wire Line
	4300 2650 4300 3050
Wire Wire Line
	4300 3050 5600 3050
Wire Wire Line
	5600 3050 5600 2550
Wire Wire Line
	5600 2550 5500 2550
Wire Wire Line
	3900 3850 4400 3850
Wire Wire Line
	3400 3950 3400 3950
Wire Wire Line
	4350 2850 4050 2850
Wire Wire Line
	3400 2750 4050 2750
Wire Wire Line
	4050 2750 4050 2850
Wire Wire Line
	5500 2650 5700 2650
Wire Wire Line
	5700 2650 5700 2500
Wire Wire Line
	3400 2150 6450 2150
Wire Wire Line
	6450 2150 6450 3350
Wire Wire Line
	6450 3350 7500 3350
Wire Wire Line
	1850 1250 2350 1250
Connection ~ 900  1850
Wire Wire Line
	2800 6350 3400 6350
Wire Wire Line
	4750 6350 4750 6500
Wire Wire Line
	4750 6500 4600 6500
Wire Wire Line
	1950 5300 1600 5300
Wire Wire Line
	1950 5500 1600 5500
Wire Wire Line
	2750 5400 2950 5400
Wire Wire Line
	3400 3650 3900 3650
Wire Wire Line
	3900 3950 4400 3950
Wire Wire Line
	5700 2500 5800 2500
Wire Wire Line
	5200 6350 4600 6350
Wire Wire Line
	3400 6200 2800 6200
Wire Wire Line
	4600 6200 4750 6200
Connection ~ 4750 6050
Wire Wire Line
	4750 6200 4750 6050
Wire Wire Line
	5200 6050 4600 6050
Wire Wire Line
	1200 1550 1200 1250
Wire Wire Line
	3400 3550 3900 3550
Wire Wire Line
	9050 5400 8600 5400
Wire Wire Line
	9050 5700 8600 5700
Wire Wire Line
	9050 6000 8600 6000
Wire Wire Line
	3400 1950 3900 1950
Wire Wire Line
	6800 5150 6300 5150
Wire Wire Line
	6800 5500 6300 5500
Wire Wire Line
	6800 5800 6300 5800
Wire Wire Line
	8900 6150 9050 6150
$Comp
L SW_PUSH SW?
U 1 1 4EABF573
P 8600 6150
F 0 "SW?" H 8750 6260 50  0000 C CNN
F 1 "SW_PUSH" H 8600 6070 50  0000 C CNN
	1    8600 6150
	-1   0    0    1   
$EndComp
Text HLabel 6300 5650 0    60   Input ~ 0
Phase12V
Text Label 3450 2850 0    60   ~ 0
12VMeasure
Text Label 4800 6350 0    60   ~ 0
12V
Text HLabel 5200 6350 2    60   Input ~ 0
12V
Text Label 6700 5000 2    60   ~ 0
12V
Text Label 6700 5150 2    60   ~ 0
5V
Text Label 6700 5300 2    60   ~ 0
GND
Text Label 6750 5500 2    60   ~ 0
12VMeasure
Text Label 6750 5800 2    60   ~ 0
Phase5V
$Sheet
S 6800 4900 700  1050
U 4EABDB9D
F0 "alternator" 60
F1 "alternator.sch" 60
F2 "5V" I L 6800 5150 60 
F3 "GND" I L 6800 5300 60 
F4 "12VMeasure" O L 6800 5500 60 
F5 "Phase5V" O L 6800 5800 60 
F6 "Phase12V" I L 6800 5650 60 
F7 "12V" I L 6800 5000 60 
$EndSheet
Text Label 3450 3750 0    60   ~ 0
Phase5V
Text Label 9000 6000 2    60   ~ 0
AccelCS
Text Label 3450 1950 0    60   ~ 0
AccelCS
Text Label 9000 5850 2    60   ~ 0
MISO
Text Label 9000 5700 2    60   ~ 0
MOSI
Text Label 9000 5550 2    60   ~ 0
SCLK
Text Label 9000 5400 2    60   ~ 0
GND
Text Label 9000 5250 2    60   ~ 0
5V
$Sheet
S 9050 5150 550  1100
U 4EABC9CA
F0 "accelerometer" 60
F1 "accelerometer.sch" 60
F2 "5V" I L 9050 5250 60 
F3 "GND" I L 9050 5400 60 
F4 "SCL" I L 9050 5550 60 
F5 "SDI" I L 9050 5700 60 
F6 "CS" I L 9050 6000 60 
F7 "SDO" O L 9050 5850 60 
F8 "/ISOLATE" I L 9050 6150 60 
$EndSheet
Text Notes 2150 5700 0    60   ~ 0
ISP Header
Text Label 3450 3550 0    60   ~ 0
FieldDriver
Text HLabel 2800 6350 0    60   Input ~ 0
FieldDriver
Text HLabel 5200 6050 2    60   Input ~ 0
IAC
Text HLabel 5800 3000 2    60   Input ~ 0
CANL
Text HLabel 10400 2750 2    60   Input ~ 0
KnockSensor
Text HLabel 4400 4050 2    60   Input ~ 0
Ignition2
Text HLabel 4400 3950 2    60   Input ~ 0
Ignition1
Text HLabel 4400 3850 2    60   Input ~ 0
VSSSignal
Text HLabel 900  1100 1    60   Input ~ 0
5V
Text HLabel 2350 1250 2    60   Input ~ 0
GND
Text HLabel 5800 2500 2    60   Input ~ 0
CANH
Text Label 3350 6200 2    60   ~ 0
Idle
$Comp
L CONN_3X2 P2
U 1 1 4EA0F9A7
P 2350 5450
F 0 "P2" H 2350 5700 50  0000 C CNN
F 1 "CONN_3X2" V 2350 5500 40  0000 C CNN
F 2 "PIN_ARRAY_3x2" H 2350 5450 60  0001 C CNN
	1    2350 5450
	1    0    0    -1  
$EndComp
$Comp
L R R17
U 1 1 4E9FE3CD
P 3650 3850
F 0 "R17" V 3730 3850 50  0000 C CNN
F 1 "1K" V 3650 3850 50  0000 C CNN
F 2 "R4" H 3650 3850 60  0001 C CNN
	1    3650 3850
	0    1    1    0   
$EndComp
Text Notes 5000 3950 0    60   ~ 0
PD5-7, input square waves
$Comp
L R R19
U 1 1 4E9FDB66
P 3650 4050
F 0 "R19" V 3730 4050 50  0000 C CNN
F 1 "1K" V 3650 4050 50  0000 C CNN
F 2 "R4" H 3650 4050 60  0001 C CNN
	1    3650 4050
	0    1    1    0   
$EndComp
$Comp
L R R18
U 1 1 4E9FDB60
P 3650 3950
F 0 "R18" V 3730 3950 50  0000 C CNN
F 1 "1K" V 3650 3950 50  0000 C CNN
F 2 "R4" H 3650 3950 60  0001 C CNN
	1    3650 3950
	0    1    1    0   
$EndComp
Text Label 3450 3650 0    60   ~ 0
Idle
Text Label 6950 3450 0    60   ~ 0
KnockXin
Text Label 3450 4250 0    60   ~ 0
RESET
Text Label 2800 5500 0    60   ~ 0
GND
Text Label 2800 5400 0    60   ~ 0
MOSI
Text Label 2800 5300 0    60   ~ 0
5V
Text Label 1650 5500 0    60   ~ 0
RESET
Text Label 1650 5400 0    60   ~ 0
SCLK
Text Label 1650 5300 0    60   ~ 0
MISO
Text Label 3350 6050 2    60   ~ 0
GND
$Comp
L VNS3NV04D U11
U 1 1 4E9E8628
P 4000 6350
F 0 "U11" H 3800 6750 60  0000 C CNN
F 1 "VNS3NV04D" H 3950 6050 60  0000 C CNN
F 2 "SO8N" H 3700 6650 60  0001 C CNN
	1    4000 6350
	1    0    0    -1  
$EndComp
Text Label 5150 3450 0    60   ~ 0
SharedClock
Text Label 4850 2150 0    60   ~ 0
ChipSelect
Text Label 4850 2050 0    60   ~ 0
Window
Text Label 3350 6500 2    60   ~ 0
FieldDriver
Text Label 900  3400 1    60   ~ 0
GND
Text Label 1950 1250 0    60   ~ 0
GND
$Comp
L BYPASS C12
U 1 1 4E9BCD59
P 1200 2550
F 0 "C12" H 1210 2630 50  0000 L CNN
F 1 "0.1uF" V 1150 2420 50  0000 L CNN
F 2 "C2" H 1050 2850 60  0001 C CNN
F 4 "399-4329-ND" H 1350 2750 60  0001 C CNN "Digikey"
	1    1200 2550
	1    0    0    -1  
$EndComp
$Comp
L BYPASS C11
U 1 1 4E9BCD4C
P 900 2050
F 0 "C11" H 910 2130 50  0000 L CNN
F 1 "0.1uF" V 850 1920 50  0000 L CNN
F 2 "C2" H 750 2350 60  0001 C CNN
F 4 "399-4329-ND" H 1050 2250 60  0001 C CNN "Digikey"
	1    900  2050
	1    0    0    -1  
$EndComp
$Comp
L BYPASS C13
U 1 1 4E9BCD45
P 1650 1250
F 0 "C13" H 1660 1330 50  0000 L CNN
F 1 "0.1uF" V 1600 1120 50  0000 L CNN
F 2 "C2" H 1500 1550 60  0001 C CNN
F 4 "399-4329-ND" H 1800 1450 60  0001 C CNN "Digikey"
	1    1650 1250
	0    1    1    0   
$EndComp
$Comp
L C C17
U 1 1 4E9BCA8B
P 6800 2650
F 0 "C17" H 6850 2750 50  0000 L CNN
F 1 "4.7uF" H 6850 2550 50  0000 L CNN
F 2 "C2" H 6800 2650 60  0001 C CNN
F 4 "V3" H 6800 2650 60  0001 C CNN "Digikey"
	1    6800 2650
	1    0    0    -1  
$EndComp
$Comp
L BYPASS C18
U 1 1 4E9BCA7C
P 9750 2350
F 0 "C18" H 9760 2430 50  0000 L CNN
F 1 "0.1uF" V 9700 2220 50  0000 L CNN
F 2 "C2" H 9600 2650 60  0001 C CNN
F 4 "399-4329-ND" H 9900 2550 60  0001 C CNN "Digikey"
	1    9750 2350
	0    1    1    0   
$EndComp
Text Label 6800 2300 1    60   ~ 0
5V
Text Label 4150 2750 0    60   ~ 0
5V
Text Label 5350 3050 0    60   ~ 0
GND
$Comp
L MCP2551 U9
U 1 1 4E994AB0
P 4800 2850
F 0 "U9" H 4700 3300 60  0000 C CNN
F 1 "MCP2551" H 4850 2700 60  0000 C CNN
F 2 "SO8E" H 4800 2850 60  0001 C CNN
F 4 "MCP2551-I/SN" H 4800 2850 60  0001 C CNN "Digikey"
	1    4800 2850
	1    0    0    -1  
$EndComp
Text Label 950  1250 0    60   ~ 0
5V
$Comp
L INDUCTOR L1
U 1 1 4E9947FE
P 900 1550
F 0 "L1" V 850 1550 40  0000 C CNN
F 1 "10uH" V 1000 1550 40  0000 C CNN
F 2 "R4" H 900 1550 60  0001 C CNN
F 4 "V3" V 900 1550 60  0001 C CNN "Digikey"
	1    900  1550
	1    0    0    -1  
$EndComp
Text Label 4700 4250 0    60   ~ 0
5V
$Comp
L R R20
U 1 1 4E993F05
P 4350 4250
F 0 "R20" V 4430 4250 50  0000 C CNN
F 1 "10K" V 4350 4250 50  0000 C CNN
F 2 "R4" H 4350 4250 60  0001 C CNN
	1    4350 4250
	0    1    1    0   
$EndComp
Text Notes 7850 3900 0    60   ~ 0
Knock Processing
Text Label 3450 1650 0    60   ~ 0
MOSI
Text Label 3450 1550 0    60   ~ 0
MISO
Text Label 3750 4950 0    60   ~ 0
GND
$Comp
L CRYSTAL X1
U 1 1 4E97F0C2
P 3850 4350
F 0 "X1" H 3850 4500 60  0000 C CNN
F 1 "16MHz" H 3850 4200 60  0000 C CNN
F 2 "HC-49V" H 3850 4350 60  0001 C CNN
F 4 "887-1086-1-ND" H 3850 4350 60  0001 C CNN "Digikey"
	1    3850 4350
	1    0    0    -1  
$EndComp
$Comp
L C C15
U 1 1 4E97F046
P 4150 4750
F 0 "C15" H 4200 4850 50  0000 L CNN
F 1 "22pF" H 4200 4650 50  0000 L CNN
F 2 "C2" H 4150 4750 60  0001 C CNN
	1    4150 4750
	-1   0    0    1   
$EndComp
$Comp
L C C14
U 1 1 4E97F033
P 3500 4750
F 0 "C14" H 3550 4850 50  0000 L CNN
F 1 "22pF" H 3550 4650 50  0000 L CNN
F 2 "C2" H 3500 4750 60  0001 C CNN
	1    3500 4750
	-1   0    0    1   
$EndComp
Text Label 3450 2250 0    60   ~ 0
SCLK
Text Label 3450 2750 0    60   ~ 0
CanRx
Text Label 3450 2650 0    60   ~ 0
CanTx
$Comp
L R R21
U 1 1 4E97E835
P 6250 3450
F 0 "R21" V 6330 3450 50  0000 C CNN
F 1 "1k" V 6250 3450 50  0000 C CNN
F 2 "R4" H 6250 3450 60  0001 C CNN
	1    6250 3450
	0    1    1    0   
$EndComp
$Comp
L C C16
U 1 1 4E97E82D
P 6700 3450
F 0 "C16" H 6750 3550 50  0000 L CNN
F 1 "470pF" H 6750 3350 50  0000 L CNN
F 2 "C2" H 6700 3450 60  0001 C CNN
	1    6700 3450
	0    1    1    0   
$EndComp
$Comp
L R R22
U 1 1 4E97E81D
P 7250 3550
F 0 "R22" V 7330 3550 50  0000 C CNN
F 1 "1M" V 7250 3550 50  0000 C CNN
F 2 "R4" H 7250 3550 60  0001 C CNN
	1    7250 3550
	0    1    1    0   
$EndComp
$Comp
L C C19
U 1 1 4E97E79E
P 10050 2750
F 0 "C19" H 10100 2850 50  0000 L CNN
F 1 "3.3nF" H 10100 2650 50  0000 L CNN
F 2 "C2" H 10050 2750 60  0001 C CNN
	1    10050 2750
	0    1    1    0   
$EndComp
$Comp
L R R24
U 1 1 4E97E765
P 9600 2750
F 0 "R24" V 9680 2750 50  0000 C CNN
F 1 "TBD" V 9600 2750 50  0000 C CNN
F 2 "R4" H 9600 2750 60  0001 C CNN
	1    9600 2750
	0    1    1    0   
$EndComp
$Comp
L R R23
U 1 1 4E97E744
P 9100 2850
F 0 "R23" V 9180 2850 50  0000 C CNN
F 1 "TBD" V 9100 2850 50  0000 C CNN
F 2 "R4" H 9100 2850 60  0001 C CNN
	1    9100 2850
	0    1    1    0   
$EndComp
Text Label 8900 3550 0    60   ~ 0
MISO
Text Label 8900 3450 0    60   ~ 0
MOSI
Text Label 8900 3350 0    60   ~ 0
SCLK
Text Label 7150 2750 0    60   ~ 0
GND
Text Label 10100 2350 0    60   ~ 0
GND
$Comp
L TPIC8101 U12
U 1 1 4E97A1D4
P 8200 3200
F 0 "U12" H 7850 3900 60  0000 C CNN
F 1 "TPIC8101" H 8000 2700 60  0000 C CNN
F 2 "SO20L" H 8200 3200 60  0001 C CNN
F 4 "296-24864-1-ND" H 8200 3200 60  0001 C CNN "Digikey"
	1    8200 3200
	1    0    0    -1  
$EndComp
$Comp
L ATMEGA16M1-A IC1
U 1 1 4E965278
P 2300 3250
F 0 "IC1" H 1400 5080 50  0000 L BNN
F 1 "ATMEGA16M1-A" H 2600 1850 50  0000 L BNN
F 2 "TQFP32" H 1550 1900 50  0001 C CNN
	1    2300 3250
	1    0    0    -1  
$EndComp
$EndSCHEMATC
